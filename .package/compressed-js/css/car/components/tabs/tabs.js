var TABS_SUB_PANEL_DELEGATE_DEFAULT="./css/car/components/tabs/templates/subPanelDelegate.html",TABS_TOP_PANEL_DELEGATE_DEFAULT="./css/car/components/tabs/templates/tabMenuItemDelegate.html";(function(e){"use strict";var t={thisObj:null,contentDelegate:null,topPanelDelegate:TABS_TOP_PANEL_DELEGATE_DEFAULT,subPanelDelegate:TABS_SUB_PANEL_DELEGATE_DEFAULT,sectionTitle:null,selectedTopTabIndex:-1,init:function(){this.empty();var n="<div id='tabsTopPanel' class='tabsTopPanel'>";n+="<div class='tabsTopPanelTitle'></div>",n+="<div class='tabsCloseButton' onClick='$(\"#"+this.attr("id")+'").tabs("hidePage")\'></div>',n+="<div id='tabsTabsID' class='tabsTabs'></div>",n+="</div>",n+="<div id='tabsTopSubPanel' class='tabsTopSubPanel bgColorDark'></div>",n+="<div id='tabsContent' class='tabsContent'></div>",n+="<div class='tabsTopPanelTitleHint fontSizeXXSmall fontWeightBold fontColorTheme'>"+t.sectionHint+"</div>",this.append(n),e(".tabsTopPanelTitle").boxCaptionPlugin("initSmall",t.sectionTitle),e("#tabsContent").show(0),e("#tabsTopSubPanel").hide(0),t.thisObj=this},showPage:function(){t.thisObj.fadeIn("normal",function(){t.updateContentHeight()}),t.thisObj.trigger("eventClick_showPage")},hidePage:function(){t.thisObj.fadeOut(),t.thisObj.trigger("eventClick_hidePage")},setSectionTitle:function(e){t.sectionTitle=e},setSectionHint:function(e){t.sectionHint=e},setContentDelegate:function(e){t.contentDelegate=e},contentTemplateCompile:function(e,n,r){t.clearContent(),t.changeContentClass(n),template.compile(e,t.contentDelegate,"#tabsContent",r)},changeContentClass:function(t){e("#tabsContent").removeClass(),e("#tabsContent").addClass("tabsContent "+t)},clearContent:function(){e("#tabsContent").empty()},setMenuItemDelegate:function(e){t.topPanelDelegate=e},tabMenuTemplateCompile:function(e,n){var r=0;for(r=0;r<e.Tabs.length;r++)e.Tabs[r].index=r,e.Tabs[r].selected&&(t.selectedTopTabIndex=e.Tabs[r].index),e.Tabs[r].action?e.Tabs[r].action=e.Tabs[r].action+"$('#"+this.attr("id")+"').tabs('tabsTabClick',"+r+");":e.Tabs[r].action="$('#"+this.attr("id")+"').tabs('tabsTabClick',"+r+");";t.selectedTopTabIndex===-1&&(t.selectedTopTabIndex=0),template.compile(e,t.topPanelDelegate,"#tabsTabsID",n)},getSelectetTopTabIndex:function(){return t.selectedTopTabIndex},setTopTabIndex:function(n){t.selectedTopTabIndex=n,e(".tabsTab").removeClass("fontColorSelected tabsTabSelected");var r="#tabsTab"+n;e(r).toggleClass("fontColorSelected tabsTabSelected");var i="tabsTab"+n+"Selected";e("#tabsTopPanel").attr("class","tabsTopPanel "+i)},setSubpanelContentDelegate:function(e){t.subPanelDelegate=e},subpanelContentTemplateCompile:function(n,r){n.id=this.attr("id"),n.action||(n.action=function(){t.closeSubpanel(!0)},n.actionName="BACK"),TABS_SUB_PANEL_DELEGATE_DEFAULT===t.subPanelDelegate?template.compile(n,t.subPanelDelegate,"#tabsTopSubPanel",function(){!n.textTitle||e("#tabsTopSubPanelTitle").boxCaptionPlugin("initSmall",n.textTitle),!n.action||e("#tabsCloseSubPanelButton").click(function(){n.action()}),t.showSubpanel(),!r||r()}):template.compile(n,t.subPanelDelegate,"#tabsTopSubPanel",function(){t.showSubpanel(),!r||r()})},showSubpanel:function(n){e("#tabsTopSubPanel").is(":hidden")&&(e("#tabsTopSubPanel").show("fast",function(){t.updateContentHeight()}),!n||t.thisObj.trigger("eventClick_showSubpanel"))},closeSubpanel:function(n){e("#tabsTopSubPanel").is(":visible")&&(e("#tabsTopSubPanel").hide("fast",function(){t.updateContentHeight()}),!n||t.thisObj.trigger("eventClick_closeSubpanel"))},tabsTabClick:function(e){t.setTopTabIndex(e),t.thisObj.trigger("eventClick_menuItemBtn",{Index:e})},updateContentHeight:function(){var n=t.thisObj.height();e("#tabsTopPanel").is(":visible")&&(n-=e("#tabsTopPanel").outerHeight()),e("#tabsTopSubPanel").is(":visible")&&(n-=e("#tabsTopSubPanel").outerHeight()),e("#tabsContent").css({maxHeight:n+"px"})}};e.fn.tabs=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.infoPanelAPI")}})(jQuery)