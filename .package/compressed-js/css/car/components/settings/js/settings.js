var Settings=function(){"use strict";function e(){console.info("Starting up service Settings");var e=this;this.openSetting=function(t){e.selectedSetting=null;if(!!t&&!e.locked){e.locked=!0,e.selectedSetting=t;switch(t.id){case"theme":loadScript(e.SETTINGS_JS_PATH+"themes.js",function(t,n){n==="ok"&&(e.Theme||(e.Theme=new Themes),e.Theme.show()),e.locked=!1});break;case"wifinetworks":loadScript(e.SETTINGS_JS_PATH+"wifi.js",function(t,n){n==="ok"?e.Wifi?(e.Wifi.showNetworks(),e.locked=!1):(e.Wifi=new Wifi,e.Wifi.init(function(t){t?(alert(t),e.Wifi=null):e.Wifi.showNetworks(),e.locked=!1})):e.locked=!1});break;case"wifitethering":loadScript(e.SETTINGS_JS_PATH+"wifi.js",function(t,n){n==="ok"?e.Wifi?(e.Wifi.showWifiTethering(),e.locked=!1):(e.Wifi=new Wifi,e.Wifi.init(function(t){t?(alert(t),e.Wifi=null):e.Wifi.showWifiTethering(),e.locked=!1})):e.locked=!1});break;case"bluetooth":loadScript(e.SETTINGS_JS_PATH+"bluetooth.js",function(t,n){n==="ok"&&(e.Bluetooth||(e.Bluetooth=new Bluetooth),e.Bluetooth.show()),e.locked=!1});break;default:e.locked=!1}}}}return e.prototype.SETTINGS_BASEPATH="./css/car/components/settings/",e.prototype.SETTINGS_TEMPLATES_PATH="./css/car/components/settings/templates/",e.prototype.SETTINGS_JS_PATH="./css/car/components/settings/js/",e.prototype.SETTINGS_REVISION="@revision@",e.prototype.Theme=null,e.prototype.Wifi=null,e.prototype.Bluetooth=null,e.prototype.domElement=null,e.prototype.locked=!1,e.prototype.settingsModel=ko.observableArray([{id:"theme",name:"Theme"},{id:"wifinetworks",name:"Wifi networks"},{id:"wifitethering",name:"Wifi tethering"},{id:"bluetooth",name:"Bluetooth"}]),e.prototype.selectedSetting=null,e.prototype.init=function(){var e=this;loadScript("./css/car/components/boxCaption/boxCaption.js",function(t,n){n==="ok"&&loadScript("./css/car/components/tabs/tabs.js",function(t,n){if(n==="ok"){$("head").append($("<link rel='stylesheet' href='./css/car/components/boxCaption/boxCaption.css' />")),$("head").append($("<link rel='stylesheet' href='./css/car/components/tabs/tabs.css' />")),$("head").append($("<link rel='stylesheet' href='"+e.SETTINGS_BASEPATH+"/css/settings.css' />"));if(!$("#settingsTabs").length){var r='<div id="settingsTabs" class="tabs pageBgColorNormalTransparent"></div>';$(r).appendTo("body"),e.domElement=$("#settingsTabs")}e.domElement.bind("eventClick_menuItemBtn",function(){e.renderSettingsView()}),e.domElement.tabs("setSectionTitle","APPS");var i=typeof tizen=="undefined"?"":tizen.application.getCurrentApplication().appInfo.version;e.domElement.tabs("setSectionHint","v. "+i+" rev. "+e.SETTINGS_REVISION),e.domElement.tabs("init");var s={Tabs:[{text:"SETTINGS",selected:!0}]};e.domElement.tabs("tabMenuTemplateCompile",s,function(){e.renderSettingsView(function(){e.show()})})}})})},e.prototype.show=function(){var e=this;e.domElement.tabs("showPage")},e.prototype.renderSettingsView=function(e){var t=this,n="settingsContent",r="template-settings";t.domElement.tabs("closeSubpanel"),t.domElement.tabs("clearContent"),t.domElement.tabs("changeContentClass",n),loadTemplate(t.SETTINGS_TEMPLATES_PATH,r,function(){if(!$("#settingsList").length){var t='<div id="settingsList" data-bind="template: { name: \'';t+=r,t+="', foreach: Settings.settingsModel }\"></div>",$(t).appendTo($("."+n)),ko.applyBindings(window.Settings)}!e||e()}),t.domElement.find(".bluetoothPINCode").length&&t.domElement.find(".bluetoothPINCode").remove()},window.__settings=undefined===window.__settings?new e:window.__settings,window.__settings}()